{% extends "effort_tracker/base.html" %}
{% load static %}
{% block content %}

<style>
    * {
  box-sizing: border-box;
}
    h4 {
        text-align: center;
        text-style: verdana;
    }

    .column {
      float: left;
      flex: 25%;
      padding: 5px;
      margin: 20px;
    }
    .card {
      box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
      transition: 0.3s;
      height: auto;
      max-height: 230px;
      width: auto%;
      max-width: 140px;
      text-style: verdana;
      float: left;
      background-color: lightblue;
    }

    .card:hover {
      box-shadow: 0 8px 20px 0 rgba(0,0,0,0.2);
    }

    .box {
      padding: auto;
      width: auto;
      max-width: 130px;
      height: auto;
      max-height: 230px;
    }
    img {
        height: auto;
        max-height: 230px;
        max-width: 130px;
    }
    .button {
      background-color: #008CBA;
      border: none;
      color: white;
      padding: 10px 25px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 13px;
      margin: 4px 2px;
      cursor: pointer;
    }

    .row{
        padding-left: 390px;
        display: flex;
    }

    @media screen and (max-width: 600px) {
  .row {
    flex-direction: column;
    padding-left: 0px;
  }
}
    @media screen and (max-width: 992px) {
  .column {
    flex: 50%;
  }
}
</style>

<div class="container">
    <div class="row">
        <div class="col-sm-10"></div>
        <div class="col-sm-2" align="right">
            <a href="{% url 'logout' %}"><h5> Logout v2</h5> </a>
        </div>
    </div>
    {% if request.user.is_staff %}
        <center><h4> Admin Dashboard  </h4></center>
    {% else %}
        <center><h4> Timesheet  </h4></center>
    {% endif %}
    <hr style="border-top: 1px dotted green;">
</div>


{% if messages %}
    <ul class="messages">
          {% for message in messages %}
                <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
                        {% if message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}<p class="text-danger" >Warning: </p>{% endif %}
                    <center>{{ message }}</center>
                </li>
          {% endfor %}
    </ul>
{% endif %}

<div class="container">
    <div class="row" style="padding-left: 0px;">
        <div class="col-md-4">
            <div>
                <img src={{display_pic}} alt="profile picture missing"/>
            </div>
        </div>
        <div class="col-md-6">
            <div>
                    <label>Username: </label> {{request.user.username}} <br>
                    <label>Name: </label> {{request.user.first_name| title}}&nbsp{{request.user.last_name| title}}<br>
                    <label>Current Exp: </label> {{curr_exp}}<br>
                    <label>Skills: </label> {{request.user.profile.skills}}<br>
                    <hr>
            </div>
        </div>
        <div class="col-md-2">
            <a href="{% url 'update_profile' %}"> <button class="button">update profile</button> </a>
        </div>
        </div>
    </div>
    {% if request.user.is_staff %}
        <div class="row" >
            <a href="{% url 'generate_effort_report' %}" >
                <div class="card column img">
                    <div class="img">
                        <img src="{% static 'report.png' %}" />
                        <b>Generate Effort Report</b>
                    </div>
                </div>
            </a>
            <a href="{% url 'utilization_report' %}" >
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'dpp.jpg' %}" />
                        <b> Utillization Report </b>
                    </div>
                </div>
            </a>
            <a href="/admin/effort_tracker/project/" >
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'dpp.jpg' %}" />
                        <b> Configure Project </b>
                    </div>
                </div>
            </a>
        </div>
        <div class="row" >
            <a href="{% url 'add_user' %}">
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'dpp.jpg' %}" />
                        <b> Add Associate </b>
                    </div>
                </div>
            </a>
            <a href="/admin/effort_tracker/profile/">
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'dpp.jpg' %}" />
                        <b> Modify Existing Associate </b>
                    </div>
                </div>
            </a>
            <a href="/admin/effort_tracker/profile/" >
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'dpp.jpg' %}" />
                        <b> Assign Project to Associate </b>
                    </div>
                </div>
            </a>
        </div>
    {% else %}
        <div class="row">
            <a href="{% url 'daily_task_update' %}" >
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'tasks.png' %}" />
                        <b>Update Effort</b>
                    </div>
                </div>
            </a>
            <a href="{% url 'task_view' %}" >
                <div class="card column">
                    <div class="img">
                        <img src="{% static 'tasks.png' %}" />
                        <b>Recent tasks</b>
                    </div>
                </div>
            </a>
        </div>
    {% endif %}
    <br>
    <br>
</div>


{% endblock %}